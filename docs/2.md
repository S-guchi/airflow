# ステップ2: Docker Compose で Airflow を起動する

## 前提チェック
- Docker Desktop に 4GB 以上のメモリを割り当て、docker compose v2.14+ を使う。citeturn1search0
- Linux の場合はホスト UID を `.env` に書くとファイル権限が崩れない。citeturn0search5

## 1. 作業フォルダとユーザー設定
```bash
mkdir -p ./dags ./logs ./plugins ./config
echo "AIRFLOW_UID=$(id -u)" > .env
```
上記は docker-compose.yaml を置くディレクトリで実行する。citeturn0search5

## 2. 初期化（DB マイグレーション + 管理ユーザー作成）
```bash
docker compose up airflow-init
```
完了すると `Admin user airflow created` が表示され、ユーザー名 / パスワードともに `airflow` が作成される。citeturn0search4

## 3. 常駐起動
```bash
docker compose up -d
```
Web UI は `localhost:8080` で、手順 2 で作成された `airflow / airflow` でログインできる。citeturn0search4

## 4. 停止・クリーンアップ
```bash
docker compose down --volumes --remove-orphans
```
学習用の環境を一度リセットしたいときに使う。

次は `docs/3.md` で最初の DAG を書きます。
